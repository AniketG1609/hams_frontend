<div class="flex justify-between items-center mb-8 bg-white p-4 rounded-lg shadow">
  <h1 class="text-2xl font-bold text-gray-800">Hello, {{ patient?.name || 'Patient' }}</h1>

  <div class="flex items-center gap-4">
    <!-- Notification -->
    <div class="relative">
      <button
        (click)="toggleNotifications()"
        class="bg-gray-100 w-12 h-12 rounded-full flex items-center justify-center text-xl hover:bg-gray-200 transition"
      >
        üîî @if (notificationCount > 0) {
        <span
          class="absolute top-1 right-1 bg-red-500 text-white text-xs font-bold w-5 h-5 flex items-center justify-center rounded-full border-2 border-white"
          >{{ notificationCount }}</span
        >
        }
      </button>

      <!-- Notification Dropdown -->
      @if (showNotifications) {
      <div
        class="absolute right-0 mt-3 w-96 bg-white rounded-xl shadow-lg max-h-96 overflow-y-auto z-50"
      >
        <div class="flex justify-between items-center p-4 border-b">
          <h3 class="font-semibold text-gray-800">Notifications</h3>
          <button class="text-blue-600 text-sm font-medium">Mark all as read</button>
        </div>
        <div class="divide-y divide-gray-200">
          <!-- Notification items will be dynamically loaded -->
          <div class="p-4 bg-blue-50">
            <h4 class="font-semibold text-gray-800">Appointment Confirmed</h4>
            <p class="text-gray-600 text-sm">
              Dr. John Smith confirmed your appointment for tomorrow at 10:00 AM
            </p>
            <span class="text-gray-400 text-xs">10 minutes ago</span>
          </div>
        </div>
      </div>
      }
    </div>

    <!-- Profile -->
    <div class="relative">
      <div
        (click)="toggleProfile()"
        class="flex items-center gap-3 bg-gray-100 p-2 rounded-lg cursor-pointer hover:bg-gray-200 transition"
      >
        <div
          class="w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 text-white font-semibold flex items-center justify-center"
        >
          {{ getInitials(patient?.name) }}
        </div>
        <div class="text-left">
          <div class="font-semibold text-gray-800 text-sm">{{ patient?.name || 'Patient' }}</div>
          <div class="text-gray-500 text-xs">Patient ID: P{{ patient?.patientId }}</div>
        </div>
        <span class="text-gray-500 text-xs">‚ñº</span>
      </div>

      <!-- Profile Dropdown -->
      @if (showProfile) {
      <div class="absolute right-0 mt-3 w-56 bg-white rounded-xl shadow-lg z-50">
        <a href="#" class="flex items-center gap-2 p-3 hover:bg-gray-100">üë§ My Profile</a>
        <a href="#" class="flex items-center gap-2 p-3 hover:bg-gray-100">‚öôÔ∏è Settings</a>
        <a href="#" class="flex items-center gap-2 p-3 hover:bg-gray-100">üí≥ Billing</a>
        <a href="#" class="flex items-center gap-2 p-3 hover:bg-gray-100">‚ùì Help & Support</a>
        <a href="#" class="flex items-center gap-2 p-3 text-red-600 hover:bg-gray-100">üö™ Logout</a>
      </div>
      }
    </div>
  </div>
</div>
